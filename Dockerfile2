FROM ubuntu:20.04

RUN ln -snf /usr/share/zoneinfo/Europe/Moscow /etc/localtime && echo Europe/Moscow > /etc/timezone

ENV DEBIAN_FRONTEND=noninteractive

RUN set -ex && apt-get update && apt-get install -y \
    python3=3.8.2-0ubuntu2 \
    python3-pip=20.0.2-5ubuntu1.6 \
    cron=3.0pl1-136ubuntu1 \
    ntp=1:4.2.8p12+dfsg-3ubuntu4.20.04.1 \
    && apt-get clean && rm -rf /var/cache/apt

COPY requirements2.txt /app/
RUN pip install -r /app/requirements2.txt

COPY ./app/start.sh /app/
COPY ./app/currency.py /app/

RUN  chmod +x /app/currency.py /app/start.sh

WORKDIR /app

ENTRYPOINT ["/bin/bash", "/app/start.sh"]